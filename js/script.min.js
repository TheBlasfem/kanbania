angular.module("myapp",[]).filter("state",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){a.state==b&&c.push(a)}),c}}).controller("globalcontroller",function(a){a.tasks=[],a.id=0,a.addtodo=function(){a.tasks.push({id:a.id,name:a.newtodo,state:1}),a.newtodo="",a.id=a.id+1},a.adddoing=function(b){var c=$(b.currentTarget).parent().data("id");a.tasks[c].state=2},a.adddone=function(b){var c=$(b.currentTarget).parent().data("id");a.tasks[c].state=3}});